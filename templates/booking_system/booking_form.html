{% extends "base.html" %}
{% load static %}

{% block title %}Booking{% endblock title %}

{% block content %}
<div class="container">
  <div class="grid row">
  <h1  class="text-primary">Room <strong>{{ room.name }}</strong> in hotel "<a href="{% url 'hotel' hotel_id %}">{{ hotel_name }}</a>"</h1>
  {% if room.image %}
  <img class="img-thumbnail col-xs-12 col-sm-12 col-md-8 col-lg-6" src="{% static room.image.url %}" {% if room.image.alt_text %}alt="{{room.image.alt_text}}"{% endif %}>
  {% endif %}
  </div>
  
  {% if authenticated %}
  <form action="{% url 'book' room.id %}" method="post">
    {% csrf_token %}

    <div class="form-group">
      <label for="start-date">Start date:</label>
      <input type="date" id="start-date" name="start-date" min="2024-01-23" max="2100-12-31" required class="form-control">
    </div>

    <div class="form-group">
      <label for="end-date">End date:</label>
      <input type="date" id="end-date" name="end-date" min="2024-01-23" max="2100-12-31" required class="form-control">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  {% else %}
  <p>If you want to book a room, <a href="{% url 'register' %}">register</a> or <a href="{% url 'login' %}">log in</a>.</p>
  {% endif %}

</div>
{% endblock content %}

{% block js %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'booking_system/js/booking_form.js' %}" type="text/javascript" data-roomid="{{room.id|safe}}"></script>
{% endblock js %}